function theChampLoadingIcon(){jQuery(".the_champ_login_container").html('<img id="the_champ_loading_image" src="'+theChampLoadingImgPath+'" />')}function theChampAjaxUserAuth(e,t){theChampLoadingIcon();jQuery.ajax({type:"POST",dataType:"json",url:theChampAjaxUrl,data:{action:"the_champ_user_auth",profileData:e,provider:t,redirectionUrl:theChampTwitterRedirect?theChampTwitterRedirect:""},success:function(e,t,n){var r=theChampSiteUrl;if(e.status==1){if(e.message=="register"){if(e.url&&e.url!=""){r=e.url}else{r=theChampRegRedirectionUrl+(theChampCommentFormLogin?"/#commentform":"")}}else if(e.message=="linked"){r=theChampLinkingRedirection+"?linked=1"}else if(e.url&&e.url!=""){r=e.url}else{r=theChampRedirectionUrl+(theChampCommentFormLogin?"/#commentform":"")}}else if(e.message.match(/ask/)!==null){var i=e.message.split("|");r=theChampSiteUrl+"?SuperSocializerEmail=1&par="+i[1]}else if(e.message=="unverified"){r=theChampSiteUrl+"?SuperSocializerUnverified=1"}else if(e.message=="not linked"){r=theChampLinkingRedirection+"?linked=0"}else if(e.message=="provider exists"){r=theChampLinkingRedirection+"?linked=2"}location.href=r}})}function theChampInitiateLogin(e){if(e.title=="Login with Facebook"){theChampAuthUserFB()}else if(e.title=="Login with Twitter"){theChampPopup(theChampSiteUrl+"?SuperSocializerAuth=Twitter&super_socializer_redirect_to="+theChampTwitterRedirect)}else if(e.title=="Login with Xing"){theChampPopup(theChampSiteUrl+"?SuperSocializerAuth=Xing&super_socializer_redirect_to="+theChampTwitterRedirect)}else if(e.title=="Login with Linkedin"){IN.User.authorize();return false}else if(e.title=="Login with Google"){theChampInitializeGPLogin()}else if(e.title=="Login with Vkontakte"){theChampInitializeVKLogin()}else if(e.title=="Login with Instagram"){theChampInitializeInstaLogin()}}function theChampDisplayLoginIcon(e,t){if(typeof jQuery!="undefined"){jQuery("."+t).css("display","block")}else{var n=theChampGetElementsByClass(e,t);for(var r=0;r<n.length;r++){n[r].style.display="block"}}}if(theChampVerified){theChampLoadEvent(function(){tb_show(theChampPopupTitle,theChampAjaxUrl)})}if(theChampEmailPopup){theChampLoadEvent(function(){tb_show(theChampEmailPopupTitle,theChampEmailAjaxUrl)});function theChampValidateEmail(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function the_champ_save_email(e){var t=document.getElementById("the_champ_email").value.trim();var n=document.getElementById("the_champ_confirm_email").value.trim();if(e.id=="save"&&!theChampValidateEmail(t)){document.getElementById("the_champ_error").innerHTML=theChampEmailPopupErrorMsg;jQuery("#TB_ajaxContent").css("height","auto");return}if(t!=n){document.getElementById("the_champ_error").innerHTML="Email addresses do not match";jQuery("#TB_ajaxContent").css("height","auto");return}theChampCallAjax(function(){theChampSaveEmail(e.id,t)})}function theChampSaveEmail(e,t){document.getElementById("the_champ_error").innerHTML='<img src="'+theChampLoadingImgPath+'" />';jQuery.ajax({type:"POST",dataType:"json",url:theChampAjaxUrl,data:{action:"the_champ_save_email",elemId:e,email:t,id:theChampEmailPopupUniqueId},success:function(e,t,n){window.history.pushState({html:"html",pageTitle:"page title"},"","?done=1");if(e.status==1&&e.message.response&&e.message.response=="success"){location.href=e.message.url}else if(e.status==1&&e.message=="success"){location.href=theChampRegRedirectionUrl}else if(e.status==1&&e.message=="cancelled"){tb_remove()}else if(e.status==1&&e.message=="verify"){document.getElementById("TB_ajaxContent").innerHTML="<strong>"+theChampEmailPopupVerifyMessage+"</strong>"}else if(e.status==0){document.getElementById("the_champ_error").innerHTML=e.message;jQuery("#TB_ajaxContent").css("height","auto")}}})}}var theChampCommentFormLogin=false